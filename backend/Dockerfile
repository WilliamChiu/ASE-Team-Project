FROM node:14

ARG GOOGLE_CLIENT_ID
ENV GOOGLE_CLIENT_ID $GOOGLE_CLIENT_ID

ARG GOOGLE_CLIENT_SECRET
ENV GOOGLE_CLIENT_SECRET $GOOGLE_CLIENT_SECRET

ARG MONGO_USER
ENV MONGO_USER $MONGO_USER

ARG MONGO_PASSWORD
ENV MONGO_PASSWORD $MONGO_PASSWORD

WORKDIR /usr/src/app

COPY package*.json ./

RUN npm install

COPY . .

EXPOSE 5000

CMD [ "npm", "start" ]
